{"version":3,"sources":["logo.svg","draw/tools/Pencil.js","draw/tools/Text.js","draw/SketchPad.jsx","draw/tools/Line.js","draw/tools/Rectangle.js","draw/tools/Ellipse.js","draw/SketchPadcomp.js","menu/menu.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","TOOL_PENCIL","FILL_TEXT","toolsMap","_toolsMap","Object","defineProperty","context","stroke","points","drawLine","item","start","_ref","x","y","save","lineJoin","lineCap","beginPath","lineWidth","size","strokeStyle","color","globalCompositeOperation","moveTo","lineTo","closePath","restore","onMouseMove","newPoint","slice","push","onMouseDown","id","v4","tool","onDebouncedMouseMove","debouncedPoints","onMouseUp","draw","animate","time","i","j","length","setTimeout","bind","line","imageData","putImageData","end","getImageData","canvas","clientWidth","clientHeight","rectangle","drawRectangle","mouseX","mouseY","startX","startY","widthX","Math","abs","widthY","fillStyle","fill","rect","ellipse","drawEllipse","radiusX","radiusY","centerX","centerY","PI","xPos","yPos","sin","cos","drawEllipsePolifyll","text","drawText","fillText","filltext","SketchPad","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","interval","initTool","assertThisInitialized","onDebouncedMove","findDOMNode","canvasRef","ctx","getContext","_this2","items","filter","indexOf","forEach","e","_this$tool","data","apply","toConsumableArray","getCursorPosition","concat","fillColor","onItemStart","onDebouncedItemChange","setInterval","debounceTime","_this$tool2","onEveryItemChange","_this$tool3","onCompleteItem","clearInterval","_this$canvas$getBound","getBoundingClientRect","top","left","clientX","clientY","_this3","_this$props","width","height","canvasClassName","react_default","a","createElement","ref","className","onMouseOut","Component","defaultProps","wsClient","IO","SketchPadcomp","socket","state","on","setState","_this$state","style","marginTop","marginBottom","float","marginRight","SketchPad_SketchPad","emit","fontWeight","undefined","onClick","htmlFor","min","max","type","value","onChange","parseInt","target","margin","checked","useStyles","makeStyles","theme","grow","flexGrow","menuButton","spacing","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","fade","palette","common","white","&:hover","marginLeft","searchIcon","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","padding","transition","transitions","create","sectionDesktop","sectionMobile","PrimarySearchAppBar","classes","_React$useState","React","useState","_React$useState2","slicedToArray","anchorEl","setAnchorEl","_React$useState3","_React$useState4","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","event","currentTarget","handleMobileMenuClose","handleMenuClose","renderMenu","Menu","anchorOrigin","vertical","horizontal","transformOrigin","open","onClose","MenuItem","renderMobileMenu","IconButton","Badge","badgeContent","Mail_default","Notifications_default","AccountCircle_default","AppBar","Toolbar","edge","aria-label","Menu_default","Typography","variant","noWrap","Search_default","InputBase","placeholder","root","input","aria-owns","aria-haspopup","MoreVert_default","App","menu","SketchPadcomp_SketchPadcomp","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2a03753c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import { v4 } from 'uuid';\n\nexport const TOOL_PENCIL = 'pencil';\n\nexport default (context) => {\n  let stroke = null;\n  let points = [];\n\n  const onMouseDown = (x, y, color, size) => {\n    stroke = {\n      id: v4(),\n      tool: TOOL_PENCIL,\n      color,\n      size,\n      points: [{ x, y }]\n    };\n    return [stroke];\n  };\n\n  const drawLine = (item, start, { x, y }) => {\n    context.save();\n    context.lineJoin = 'round';\n    context.lineCap = 'round';\n    context.beginPath();\n    context.lineWidth = item.size;\n    context.strokeStyle = item.color;\n    context.globalCompositeOperation = 'source-over';\n    context.moveTo(start.x, start.y);\n    context.lineTo(x, y);\n    context.closePath();\n    context.stroke();\n    context.restore();\n  };\n\n  const onMouseMove = (x, y) => {\n    if (!stroke) return [];\n    const newPoint = { x, y };\n    const start = stroke.points.slice(-1)[0];\n    drawLine(stroke, start, newPoint);\n    stroke.points.push(newPoint);\n    points.push(newPoint);\n\n    return [stroke];\n  };\n\n  const onDebouncedMouseMove = () => {\n    const debouncedPoints = points;\n    points = [];\n    return [stroke, debouncedPoints];\n  };\n\n  const onMouseUp = (x, y) => {\n    if (!stroke) return;\n    onMouseMove(x, y);\n    points = [];\n    const item = stroke;\n    stroke = null;\n    return [item];\n  };\n\n  const draw = (item, animate) => {\n    let time = 0;\n    let i = 0;\n    const j = item.points.length;\n    for (i, j; i < j; i++) {\n      if (!item.points[i - 1]) continue;\n      if (animate) {\n        setTimeout(drawLine.bind(null, item, item.points[i - 1], item.points[i]), time);\n        time += 10;\n      } else {\n        drawLine(item, item.points[i - 1], item.points[i]);\n      }\n    }\n  };\n\n  return {\n    onMouseDown,\n    onMouseMove,\n    onDebouncedMouseMove,\n    onMouseUp,\n    draw,\n  };\n};\n","import { v4 } from 'uuid';\r\n\r\nexport const TOOL_TEXT = 'text';\r\nexport const FILL_TEXT = 'Test WRITE TEXT';\r\n\r\nexport default (context) => {\r\n    let text = null;\r\n    let imageData = null;\r\n\r\nconst onMouseDown = (x, y, color, size, fill, filltext) => {\r\n    //alert(filltext);\r\n    text = {\r\n        id: v4(),\r\n        tool: TOOL_TEXT,\r\n        color,\r\n        size,\r\n        fill,\r\n        fillText: filltext?filltext:FILL_TEXT,\r\n        start: { x, y },\r\n        end: null\r\n    };\r\n    imageData = context.getImageData(0, 0, context.canvas.clientWidth, context.canvas.clientHeight);\r\n    return [text];\r\n  };\r\n\r\n  const drawText = (item, mouseX, mouseY) => {\r\n    const startX = mouseX < item.start.x ? mouseX : item.start.x;\r\n    const startY = mouseY < item.start.y ? mouseY : item.start.y;\r\n\r\n    context.beginPath();\r\n    context.lineWidth = item.size;\r\n    context.strokeStyle = item.color;\r\n    context.fillStyle = item.fill;\r\n    context.stroke();\r\n    //if (item.fill) context.fill();\r\n    if (item.fillText) context.fillText(item.fillText, startX, startY);\r\n  };\r\n\r\n  const onMouseMove = (x, y) => {\r\n    if (!text) return;\r\n    context.putImageData(imageData, 0, 0);\r\n    context.save();\r\n    drawText(text, x, y);\r\n    context.restore();\r\n  };\r\n\r\n  const onMouseUp = (x, y) => {\r\n    if (!text) return;\r\n    onMouseMove(x, y);\r\n    const item = text;\r\n    imageData = null;\r\n    text = null;\r\n    item.end = { x, y };\r\n    return [item];\r\n  };\r\n\r\n  const draw = item => drawText(item, item.end.x, item.end.y);\r\n\r\n  return {\r\n    onMouseDown,\r\n    onMouseMove,\r\n    onMouseUp,\r\n    draw,\r\n  };\r\n};\r\n","import React, {Component} from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types'; // ES6\nimport { Pencil, TOOL_PENCIL, Line, TOOL_LINE, Ellipse, TOOL_ELLIPSE, Rectangle, TOOL_RECTANGLE, Text, TOOL_TEXT } from './tools';\n\nexport const toolsMap = {\n  [TOOL_PENCIL]: Pencil,\n  [TOOL_LINE]: Line,\n  [TOOL_RECTANGLE]: Rectangle,\n  [TOOL_ELLIPSE]: Ellipse,\n  [TOOL_TEXT]:Text\n};\n\nexport default class SketchPad extends Component {\n\n  tool = null;\n  interval = null;\n\n  static propTypes = {\n    width: PropTypes.number,\n    height: PropTypes.number,\n    items: PropTypes.array.isRequired,\n    animate: PropTypes.bool,\n    canvasClassName: PropTypes.string,\n    color: PropTypes.string,\n    fillColor: PropTypes.string,\n    size: PropTypes.number,\n    tool: PropTypes.string,\n    toolsMap: PropTypes.object,\n    onItemStart: PropTypes.func, // function(stroke:Stroke) { ... }\n    onEveryItemChange: PropTypes.func, // function(idStroke:string, x:number, y:number) { ... }\n    onDebouncedItemChange: PropTypes.func, // function(idStroke, points:Point[]) { ... }\n    onCompleteItem: PropTypes.func, // function(stroke:Stroke) { ... }\n    debounceTime: PropTypes.number,\n  };\n\n  static defaultProps = {\n    width: 500,\n    height: 500,\n    color: '#000',\n    size: 5,\n    fillColor: '',\n    fillText: '',\n    canvasClassName: 'canvas',\n    debounceTime: 1000,\n    animate: true,\n    tool: TOOL_PENCIL,\n    toolsMap\n  };\n\n  constructor(props) {\n    super(props);\n    this.initTool = this.initTool.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onDebouncedMove = this.onDebouncedMove.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n  }\n\n  componentDidMount() {\n    this.canvas = findDOMNode(this.canvasRef);\n    this.ctx = this.canvas.getContext('2d');\n    this.initTool(this.props.tool);\n  }\n\n  componentWillReceiveProps({tool, items}) {\n    items\n      .filter(item => this.props.items.indexOf(item) === -1)\n      .forEach(item => {\n        this.initTool(item.tool);\n        this.tool.draw(item, this.props.animate);\n      });\n    this.initTool(tool);\n  }\n\n  initTool(tool) {\n    this.tool = this.props.toolsMap[tool](this.ctx);\n  }\n\n  onMouseDown(e) {\n    const data = this.tool.onMouseDown(...this.getCursorPosition(e), this.props.color, this.props.size, this.props.fillColor, this.props.fillText);\n    data && data[0] && this.props.onItemStart && this.props.onItemStart.apply(null, data);\n    if (this.props.onDebouncedItemChange) {\n      this.interval = setInterval(this.onDebouncedMove, this.props.debounceTime);\n    }\n  }\n\n  onDebouncedMove() {\n    if (typeof this.tool.onDebouncedMouseMove == 'function' && this.props.onDebouncedItemChange) {\n      this.props.onDebouncedItemChange.apply(null, this.tool.onDebouncedMouseMove());\n    }\n  }\n\n  onMouseMove(e) {\n    const data = this.tool.onMouseMove(...this.getCursorPosition(e));\n    data && data[0] && this.props.onEveryItemChange && this.props.onEveryItemChange.apply(null, data);\n  }\n\n  onMouseUp(e) {\n    const data = this.tool.onMouseUp(...this.getCursorPosition(e));\n    data && data[0] && this.props.onCompleteItem && this.props.onCompleteItem.apply(null, data);\n    if (this.props.onDebouncedItemChange) {\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n  }\n\n  getCursorPosition(e) {\n    const {top, left} = this.canvas.getBoundingClientRect();\n    return [\n      e.clientX - left,\n      e.clientY - top\n    ];\n  }\n\n  render() {\n    const {width, height, canvasClassName} = this.props;\n    return (\n      <canvas\n        ref={(canvas) => { this.canvasRef = canvas; }}\n        className={canvasClassName}\n        onMouseDown={this.onMouseDown}\n        onMouseMove={this.onMouseMove}\n        onMouseOut={this.onMouseUp}\n        onMouseUp={this.onMouseUp}\n        width={width}\n        height={height}\n      />\n    )\n  }\n}\n","import { v4 } from 'uuid';\n\nexport const TOOL_LINE = 'line';\n\nexport default (context) => {\n  let line = null;\n  let imageData = null;\n\n  const onMouseDown = (x, y, color, size) => {\n    line = {\n      id: v4(),\n      tool: TOOL_LINE,\n      color,\n      size,\n      start: { x, y },\n      end: null\n    };\n    imageData = context.getImageData(0, 0, context.canvas.clientWidth, context.canvas.clientHeight);\n    return [line];\n  };\n\n  const drawLine = (item, x, y) => {\n    context.save();\n    context.lineJoin = 'round';\n    context.lineCap = 'round';\n    context.beginPath();\n    context.lineWidth = item.size;\n    context.strokeStyle = item.color;\n    context.globalCompositeOperation = 'source-over';\n    context.moveTo(item.start.x, item.start.y);\n    context.lineTo(x, y);\n    context.closePath();\n    context.stroke();\n    context.restore();\n  };\n\n  const onMouseMove = (x, y) => {\n    if (!line) return;\n    context.putImageData(imageData, 0, 0);\n    drawLine(line, x, y);\n  };\n\n  const onMouseUp = (x, y) => {\n    if (!line) return;\n    onMouseMove(x, y);\n    const item = line;\n    imageData = null;\n    line = null;\n    item.end = { x, y };\n    return [item];\n  };\n\n  const draw = item => drawLine(item, item.end.x, item.end.y);\n\n  return {\n    onMouseDown,\n    onMouseMove,\n    onMouseUp,\n    draw,\n  };\n};\n","import { v4 } from 'uuid';\n\nexport const TOOL_RECTANGLE = 'rectangle';\n\nexport default (context) => {\n  let rectangle = null;\n  let imageData = null;\n\n  const onMouseDown = (x, y, color, size, fill) => {\n    rectangle = {\n      id: v4(),\n      tool: TOOL_RECTANGLE,\n      color,\n      size,\n      fill,\n      start: { x, y },\n      end: null\n    };\n    imageData = context.getImageData(0, 0, context.canvas.clientWidth, context.canvas.clientHeight);\n    return [rectangle];\n  };\n\n  const drawRectangle = (item, mouseX, mouseY) => {\n    const startX = mouseX < item.start.x ? mouseX : item.start.x;\n    const startY = mouseY < item.start.y ? mouseY : item.start.y;\n    const widthX = Math.abs(item.start.x - mouseX);\n    const widthY = Math.abs(item.start.y - mouseY);\n\n    context.beginPath();\n    context.lineWidth = item.size;\n    context.strokeStyle = item.color;\n    context.fillStyle = item.fill;\n    context.rect(startX, startY, widthX, widthY);\n    context.stroke();\n    if (item.fill) context.fill();\n  };\n\n  const onMouseMove = (x, y) => {\n    if (!rectangle) return;\n    context.putImageData(imageData, 0, 0);\n    context.save();\n    drawRectangle(rectangle, x, y);\n    context.restore();\n  };\n\n  const onMouseUp = (x, y) => {\n    if (!rectangle) return;\n    onMouseMove(x, y);\n    const item = rectangle;\n    imageData = null;\n    rectangle = null;\n    item.end = { x, y };\n    return [item];\n  };\n\n  const draw = item => drawRectangle(item, item.end.x, item.end.y);\n\n  return {\n    onMouseDown,\n    onMouseMove,\n    onMouseUp,\n    draw,\n  };\n};\n","import { v4 } from 'uuid';\n\nexport const TOOL_ELLIPSE = 'ellipse';\n\nexport default (context) => {\n  let ellipse = null;\n  let imageData = null;\n\n  const onMouseDown = (x, y, color, size, fill) => {\n    ellipse = {\n      id: v4(),\n      tool: TOOL_ELLIPSE,\n      color,\n      size,\n      fill,\n      start: { x, y },\n      end: null\n    };\n    imageData = context.getImageData(0, 0, context.canvas.clientWidth, context.canvas.clientHeight);\n    return [ellipse];\n  };\n\n  const drawEllipsePolifyll = (centerX, centerY, radiusX, radiusY) => {\n    let xPos;\n    let yPos;\n    let i = 0;\n    for (i; i < 2 * Math.PI; i += 0.01) {\n      xPos = centerX - (radiusY * Math.sin(i)) * Math.sin(0) + (radiusX * Math.cos(i)) * Math.cos(0);\n      yPos = centerY + (radiusX * Math.cos(i)) * Math.sin(0) + (radiusY * Math.sin(i)) * Math.cos(0);\n      if (i === 0) {\n        context.moveTo(xPos, yPos);\n      } else {\n        context.lineTo(xPos, yPos);\n      }\n    }\n  };\n\n  const drawEllipse = (item, mouseX, mouseY) => {\n    const startX = mouseX < item.start.x ? mouseX : item.start.x;\n    const startY = mouseY < item.start.y ? mouseY : item.start.y;\n    const endX = mouseX >= item.start.x ? mouseX : item.start.x;\n    const endY = mouseY >= item.start.y ? mouseY : item.start.y;\n    const radiusX = (endX - startX) * 0.5;\n    const radiusY = (endY - startY) * 0.5;\n    const centerX = startX + radiusX;\n    const centerY = startY + radiusY;\n\n    context.save();\n    context.beginPath();\n    context.lineWidth = item.size;\n    context.strokeStyle = item.color;\n    context.fillStyle = item.fill;\n\n    if (typeof context.ellipse === 'function') {\n      context.ellipse(centerX, centerY, radiusX, radiusY, 0, 0, 2 * Math.PI);\n    } else {\n      drawEllipsePolifyll(centerX, centerY, radiusX, radiusY);\n    }\n    context.stroke();\n    if (item.fill) context.fill();\n    context.closePath();\n    context.restore();\n  };\n\n  const onMouseMove = (x, y) => {\n    if (!ellipse) return;\n    context.putImageData(imageData, 0, 0);\n    drawEllipse(ellipse, x, y);\n  };\n\n  const onMouseUp = (x, y) => {\n    if (!ellipse) return;\n    onMouseMove(x, y);\n    const item = ellipse;\n    imageData = null;\n    ellipse = null;\n    item.end = { x, y };\n    return [item];\n  };\n\n  const draw = (item) => drawEllipse(item, item.end.x, item.end.y);\n\n  return {\n    onMouseDown,\n    onMouseMove,\n    onMouseUp,\n    draw\n  };\n};\n","import React, { Component } from 'react';\r\nimport { SketchPad, TOOL_PENCIL, TOOL_LINE, TOOL_RECTANGLE, TOOL_ELLIPSE, TOOL_TEXT } from './index';\r\nimport { FILL_TEXT } from './tools/Text';\r\nimport IO from 'socket.io-client';\r\n\r\nconst wsClient = IO(`ws://127.0.0.1:12346`);\r\n\r\nexport default class SketchPadcomp extends Component\r\n{\r\n  socket = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      tool:TOOL_PENCIL,\r\n      size: 2,\r\n      color: '#000000',\r\n      fill: false,\r\n      fillColor: '#444444',\r\n      filltext: FILL_TEXT,\r\n      items: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    wsClient.on('addItem', item => this.setState({items: this.state.items.concat([item])}));\r\n  }\r\n\r\n  render() {\r\n    const { tool, size, color, fill, fillColor, filltext, items } = this.state;\r\n    return (\r\n      <div style={{marginTop:-100, marginBottom:0}}>\r\n        <h2>React SketchPad</h2>\r\n        <div style={{float:'left', marginRight:20, marginTop:-20}}>\r\n          <SketchPad\r\n            width={500}\r\n            height={500}\r\n            animate={true}\r\n            size={size}\r\n            color={color}\r\n            fillColor={fill ? fillColor : ''}\r\n            fillText={filltext}\r\n            items={items}\r\n            tool={tool}\r\n            onCompleteItem={(i) => wsClient.emit('addItem', i)}\r\n          />\r\n        </div>\r\n        <div style={{float:'left'}}>\r\n          <div className=\"tools\" style={{marginBottom:20}}>\r\n            <button\r\n              style={tool == TOOL_PENCIL ? {fontWeight:'bold'} : undefined}\r\n              className={tool == TOOL_PENCIL  ? 'item-active' : 'item'}\r\n              onClick={() => this.setState({tool:TOOL_PENCIL})}\r\n            >Pencil</button>\r\n            <button\r\n              style={tool == TOOL_LINE ? {fontWeight:'bold'} : undefined}\r\n              className={tool == TOOL_LINE  ? 'item-active' : 'item'}\r\n              onClick={() => this.setState({tool:TOOL_LINE})}\r\n            >Line</button>\r\n            <button\r\n              style={tool == TOOL_ELLIPSE ? {fontWeight:'bold'} : undefined}\r\n              className={tool == TOOL_ELLIPSE  ? 'item-active' : 'item'}\r\n              onClick={() => this.setState({tool:TOOL_ELLIPSE})}\r\n            >Ellipse</button>\r\n            <button\r\n              style={tool == TOOL_RECTANGLE ? {fontWeight:'bold'} : undefined}\r\n              className={tool == TOOL_RECTANGLE  ? 'item-active' : 'item'}\r\n              onClick={() => this.setState({tool:TOOL_RECTANGLE})}\r\n            >Rectangle</button>\r\n            <button\r\n              style={tool == TOOL_TEXT ? {fontWeight:'bold'} : undefined}\r\n              className={tool == TOOL_TEXT  ? 'item-active' : 'item'}\r\n              onClick={() => this.setState({tool:TOOL_TEXT})}\r\n            >Text</button>\r\n          </div>\r\n          <div className=\"options\" style={{marginBottom:20}}>\r\n            <label htmlFor=\"\">size: </label>\r\n            <input min=\"1\" max=\"20\" type=\"range\" value={size} onChange={(e) => this.setState({size: parseInt(e.target.value)})} />\r\n          </div>\r\n          <div className=\"options\" style={{marginBottom:20}}>\r\n            <label htmlFor=\"\">color: </label>\r\n            <input type=\"color\" value={color} onChange={(e) => this.setState({color: e.target.value})} />\r\n          </div>\r\n          {(this.state.tool == TOOL_ELLIPSE || this.state.tool == TOOL_RECTANGLE) ?\r\n            <div>\r\n              <label htmlFor=\"\">fill in:</label>\r\n              <input type=\"checkbox\" value={fill} style={{margin:'0 8'}}\r\n                     onChange={(e) => this.setState({fill: e.target.checked})} />\r\n              {fill ? <span>\r\n                  <label htmlFor=\"\">with color:</label>\r\n                  <input type=\"color\" value={fillColor} onChange={(e) => this.setState({fillColor: e.target.value})} />\r\n                </span> : ''}\r\n            </div> : ''}\r\n            {(this.state.tool == TOOL_TEXT) ?\r\n              <div>\r\n              <label htmlFor=\"\">Text:</label>\r\n              <input type=\"text\" value={filltext} style={{margin:'0 8'}}\r\n                     onChange={(e) => this.setState({filltext: e.target.value})} />\r\n              </div> : ''}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing(7),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 7),\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 200,\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nfunction PrimarySearchAppBar() {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  function handleProfileMenuOpen(event) {\r\n    setAnchorEl(event.currentTarget);\r\n  }\r\n\r\n  function handleMobileMenuClose() {\r\n    setMobileMoreAnchorEl(null);\r\n  }\r\n\r\n  function handleMenuClose() {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  }\r\n\r\n  function handleMobileMenuOpen(event) {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  }\r\n\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n      <MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <MenuItem>\r\n        <IconButton color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <MailIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Messages</p>\r\n      </MenuItem>\r\n      <MenuItem>\r\n        <IconButton color=\"inherit\">\r\n          <Badge badgeContent={11} color=\"secondary\">\r\n            <NotificationsIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Notifications</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleProfileMenuOpen}>\r\n        <IconButton color=\"inherit\">\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Profile</p>\r\n      </MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"Open drawer\"\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography className={classes.title} variant=\"h6\" noWrap>\r\n            Material-UI\r\n          </Typography>\r\n          <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n              placeholder=\"Search…\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n            />\r\n          </div>\r\n          <div className={classes.grow} />\r\n          <div className={classes.sectionDesktop}>\r\n            <IconButton color=\"inherit\">\r\n              <Badge badgeContent={4} color=\"secondary\">\r\n                <MailIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            <IconButton color=\"inherit\">\r\n              <Badge badgeContent={17} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            <IconButton\r\n              edge=\"end\"\r\n              aria-owns={isMenuOpen ? 'material-appbar' : undefined}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleProfileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n          </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton aria-haspopup=\"true\" onClick={handleMobileMenuOpen} color=\"inherit\">\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMenu}\r\n      {renderMobileMenu}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PrimarySearchAppBar;","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport SketchPadcomp from './draw/SketchPadcomp';\nimport PrimarySearchAppBar from './menu/menu';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <PrimarySearchAppBar/>\n      <header className=\"App-header\">\n        <SketchPadcomp/>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}